### Семафоры или Semaphore

Семафоры представляют еще одно средство синхронизации для доступа к ресурсу.
В Java семафоры представлены классом Semaphore, который располагается в пакете
java.util.concurrent.

Для управления доступом к ресурсу семафор использует счетчик, представляющий
количество разрешений. Если значение счетчика больше нуля, то поток получает
доступ к ресурсу, при этом счетчик уменьшается на единицу. После окончания
работы с ресурсом поток освобождает семафор, и счетчик увеличивается на единицу.
Если же счетчик равен нулю, то поток блокируется и ждет, пока не получит
разрешение от семафора на доступ к ресурсу.

Установить количество разрешений для доступа к ресурсу можно с помощью конструкторов
класса Semaphore:

- Semaphore(int permits);
- Semaphore(int permits, boolean fair);

Где параметр permits указывает на количество допустимых разрешений для доступа к ресурсу,
а параметр fair во втором конструкторе позволяет установить очередность получения доступа.
Если он равен true, то разрешения будут предоставляться ожидающим потокам в том порядке,
в каком они запрашивали доступ. Если же он равен false, то разрешения будут предоставляться
в неопределенном порядке.

Методы Semaphore:
Для получения разрешения на доступ к ресурсу у семафора надо вызвать метод acquire(),
который имеет две формы:

- void acquire() throws InterruptedException
- void acquire(int permits) throws InterruptedException

Для получения одного разрешения применяется первый вариант, а для получения нескольких
разрешений - второй вариант. После вызова этого метода поток блокируется пока не получит
разрешение.

После окончания работы с ресурсом полученное ранее разрешение надо освободить с помощью
метода release():

- void release()
- void release(int permits)

Первый вариант метода освобождает одно разрешение, а второй вариант - количество разрешений,
указанных в permits.

Семафоры отлично подходят для решения задач, где надо ограничивать доступ. Например,
классическая задача про обедающих философов. Ее суть: есть несколько философов, допустим,
пять, но одновременно за столом могут сидеть не более двух. И надо, чтобы все философы
пообедали, но при этом не возникло взаимоблокировки философами друг друга в борьбе за
тарелку и вилку (см.пример [Less_25_DiningPhilosophers_Step2](./Less_25_DiningPhilosophers_Step2.java))
